import{u as v,d}from"./index-abfa6c99.js";import{g as f}from"./vendor-9b0cf635.js";function q(i,{showProgress:l=!1,successToast:r=!1,errorToast:t=!1}={}){const c=v(),a=d();function g(e){return async(...o)=>{a.start(e);try{const n=await e(...o);return a.finish(e),n}catch(n){throw a.fail(),n}}}function m(e){e.success&&r?c.success(r===!0?e.data.message||e.data:r):!e.success&&t&&c.error(t===!0?e.error.message:t)}const s=f(null),u=f(!1);return{request:async(...e)=>{u.value=!0;const o=l?g(i):i;return s.value=await o(...e),u.value=!1,m(s.value),s.value},result:s,isLoading:u}}export{q as u};
